# Коды ошибок

## Erorr 100: UnknownError

Неизвестная ошибка - может возникнуть при самых разных обстоятельствах.  

> **Решение:**
>- Перезагрузите приложение.  
>- Попробуйте очистить кеш приложения. 
>- Попробуйте удалить сервер или протокол и подключиться снова. 
>- Если ошибка повторяется отправьте логи на почту suppport@amnezia.org или в [чат в телеграм]


## Erorr 101: InternalError

Внутренняя ошибка - может возникать из-за некорректной работы QT-библиотек, или при других обстоятельствах

> **Решение:**
>- Перезагрузите приложение.
>- Попробуйте очистить кеш приложения.
>- Попробуйте удалить сервер или протокол и подключиться снова.
>- Если ошибка повторяется отправьте логи на почту suppport@amnezia.org или в [чат в телеграм]

## Erorr 102: NotImplementedError

Ошибка может возникнуть, например при попытке в старой версии приложения восстановить 
настройки из бэкапа, сделанные в более новой версии приложения. Протоколы настроенные в новых версиях Amnezia, 
могут быть не совместимы со старой версией и наоборот.

> **Решение:**
>- Попробуйте изменить настройки, 
>- Проверьте, поддерживается ли протокол вашей версией приложения. Так например AmneziaWG не поддерживается версиями приложения старше 3, а OpenVPN over Cloak установленный на версии приложения старше 2.1.2 не будет работать на более новых версиях.


## Erorr 200: ServerCheckFailed

Возникает при попытке добавить новый сервер.

>**Решение:**
> 
>**Проверьте что сервер соответствует требованиям Amnezia**
>
>Поддерживаемая архитектура процессора - x86-64 \
    Операционная система - Linux, подходит Ubuntu 22.04 или Debian 11\
    Виртуализация - KVM\
    SSD - минимум 7 Гб\
    Оперативная память (RAM) - не меньше 1 Гб \
    Предустановленное ПО и панель управления не требуются

## Erorr 201: ServerPortAlreadyAllocatedError

Эта ошибка означает, что порт, который нужен протоколу в Amnezia, уже используется другим ПО.

>**Решение:**
> 
>**У некоторых протоколов можно поменять порт:**
>- Для OpenVPN по-умолчанию используется рандомайзер портов, рекомендуемый диапазон 30000-50000, но можно поменять на любой другой порт  .
>- Для WireGuard по-умолчанию использует рандомайзер портов, рекомендуемый диапазон 30000-50000, но можно поменять на любой UDP порт.
>- IKEv2 по умолчанию использует порты 500 и 4500, их нельзя менять.
>- OpenVPN over Cloak по-умолчанию использует 443 порт, его можно менять, но мы не рекомендуем этого делать, так как 443 порт - это порт веб-трафика, по другим портам можно определить VPN-трафик даже если используется  маскировка под веб-сайт.
>- Для AmneziaWG так же используется рандомайзер портов ,рекомендуемый диапазон 30000-50000, его также можно поменять на любой другой UDP порт вручную. 
>
>**Проверьте, что у вас не установлено другое ПО, использующее порт протокола.**
 >Для **Windows** можно посмотреть какие порты уже используются другими программами так:
  >- Нажмите **Win+R**,
   >- введите в строку **cmd** нажмите **Enter**,
> - внести команду ниже
  > ~~~ 
   >netstat!!! -a 
  > ~~~
 > нажмите **Enter**
   В консоли отобразится перечень используемых портов с указанием какое приложение или служба ими распоряжается,
   можно сохранить этот список в файле **netstat -a** > **имя.txt**, по умолчанию он сохранится в (C:\\User\Username*\) ,
   где  Username - имя пользователя.
>
  > Для **Linux** нам понадобится утилита netstat, если у вас ее нет, ее можно установить следующими командами:
>
>    - для RedHat и CentOS -
>   ~~~
> sudo yum install net-tools
>  ~~~
  > - для Fedora 22+ -
> ~~~
> dnf install net-tools
> ~~~
>
 >- для Debian/Ubuntu -
> ~~~ 
> sudo apt-get install net-tools
> ~~~
>В консоле наберите
>  ~~~
>  $ netstat -pnltu
>  ~~~
> По аналогии с Windows в консоли отобразится перечень используемых портов с указанием - какое приложение или служба ими распоряжается.\
> Проверьте, что на вашем сервере открыты необходимые для протоколов порты.  Это можно посмотреть в меню панели управления виртуальным сервером в браузере. Если таких данных нет, отправьте запрос в службу поддержки хостинга.\
> Подключитесь к вашему серверу по SSH, или откройте консоль сервера через веб-сайт и пропишите там **“sudo apt install lsof psmisc”** , после чего повторите попытку установить. \
> Если это не помогло, попробуйте настроить сервер с более ранней версии Amnezia (Например с версии 2.1.2 )




## Erorr 202: ServerContainerMissingError

Ошибка значит, что контейнер с сервером отсутствует.\
Возникает если приложение не подключается к серверу и при смене настроек.\
Так же может возникать при удалении контейнера на сервере вручную без использования приложения.

>**Решение** 
> 
> - Заново добавьте сервер.

## Erorr 203: ServerDockerFailedError

Ошибка: Сбой в работе Docker-контейнера сервера.
Появляется при установке контейнера с VPN или изменении настроек протокола.
Может возникнуть при удалении контейнера с сервером, или при удалении протокола без использования приложения.

>**Решение:** 
> 
>- Заново добавьте сервер.

## Erorr 204: ServerCancelInstallation

Ошибка: Отмена установки сервера
Может возникнуть при отмене установки севера пользователем.    

>**Решение:**
> 
> Если вы не отменяли установку сервера или хотите заново инициировать установку сервера, попробуйте повторить 
> установку сервера с самого начала, или обратитесь в службу поддержки в телеграм чате, или напишите нам на почту  support@amnezia.org

## Erorr 205: ServerUserNotInSudo

Обозначает, что пользователь сервера не имеет Sudo-прав.
Возникает при установке контейнера с VPN или при добавлении файла с конфигурацией.

>**Решение:** 
>
> - Добавьте пользователя в группу Sudo.
>- Через visudo, если пакет sudo уже установлен,
>- Добавьте пользователя и установите пакет sudo, если пакет sudo не установлен.
>- Попробуйте настроить сервер из под root, вместо обычного пользователя. 
>- Попробуйте убрать пароль на выполнение sudo команд. 
>- Обратитесь в службу поддержки хостинга.


## Erorr 206: ServerPacketManagerError

Ошибка диспетчера пакетов сервера возникает при установке контейнера с сервером.
Обозначает, что менеджер пакетов занят, возникает после 30 попыток установить пакеты. Причиной возникновения может служить обновление пакетов.

>**Решение:**
> - Подождите, пока обновления пакетов закончится, или пропишите в командной строке
>~~~
>- sudo apt-get install <любая_утилита> 
>~~~
> - Переключите менеджер пакетов на другую задачу, попробуйте перезагрузить сервер

Также возможно повреждение менеджера пакетов. 
> - Чтобы решить эту проблему, обратитесь в службу поддержки хостинга.


## Erorr 300: SshRequestDeniedError

Возникает при некорректном введении данных во время добавления нового сервера.

>**Решение:** 
> 
> - Проверьте правильность введенных данных.


## Erorr 301: SshInterruptedError

Возникает при добавлении нового сервера в приложение, при подключении к добавленному серверу, или при
изменении настроек сервера. 

>**Решение:** 
> 
> - Проверьте стабильность интернета, повторите попытку, так как проблема чаще всего связана со стабильностью интернет-соединения.

## Erorr 302: SshInternalError

Возникает при добавлении нового сервера в приложение, при подключении к добавленному серверу, или
при изменении настроек сервера.

> **Решение:**
>
> - Попробуйте перезапустить приложение и повторите попытку. 
> - Обратитесь к нам в поддержку или в telegram-chat.

## Erorr #303: SshPrivateKeyError

Возникает при добавлении нового сервера в приложение, при подключении к добавленному серверу, или
изменении настроек сервера.

> **Решение:**
> 
> - Проверьте правильность введенного ключа.

## Erorr 304: SshPrivateKeyFormatError

Возникает при добавлении нового сервера в приложение, при подключении к добавленному серверу, или
при изменении настроек сервера.

>**Решение:**
> 
> - Проверьте правильность формата введенного ключа, формат должен быть, либо **PEM**, либо **ED25519**.

## Erorr 305: SshTimeoutError
Возникает при добавлении нового сервера в приложение, при подключении к добавленному серверу, или
изменении настроек сервера.
К этой ошибке могут приводить разные проблемы, например, неправильный порт, IP, или SSH запрещен фаерволом.

>**Решение:**
>
>- Проверьте правильность ввода данных, порт, IP.
> - Убедитесь что порт устройства открыт. 
> - Убедитесь что сервер, к которому вы подключаетесь существует, у него активный статус в личном кабинете хостинга. 
> - SSH не запущен на сервере.

## SshSftpErrors

 **Erorr 400: SshSftpEofError** \
 **Erorr 401: SshSftpNoSuchFileError**\
 **Erorr 402: SshSftpPermissionDeniedError**\
 **Erorr 403: SshSftpFailureError**\
 **Erorr 404: SshSftpBadMessageError**\
 **Erorr 405: SshSftpNoConnectionError**\
 **Erorr 406: SshSftpConnectionLostError**\
 **Erorr 407: SshSftpOpUnsupportedError**\
 **Erorr 408: SshSftpInvalidHandleError**\
 **Erorr 409: SshSftpNoSuchPathError**\
 **Erorr 411: SshSftpWriteProtectError**\
 **Erorr 412: SshSftpNoMediaError**

>**Решение:** 
>
>- Перезапустите Amnezia.
>- Попробуйте повторить подключение
>- Переустановите сервер для VPN
>- Обратитесь в поддержку

## Erorr 410: SshSftpFileAlreadyExistsError 
(Sftp error: File does not exist)

Ошибка возникает, если производить установку не из под Root,
либо некорректно настроить юзера Sudo.

>**Решение:**
>- Попробовать произвести установку под Root
>- Если п.1 не подходит, то добавьте пользователя (от имени которого, вы хотите установить Amnezia) в группу sudo и разрешите выполнять команды sudo без пароля.



## Erorr 500: FailedToSaveConfigData

Ошибка возникает при неудачной попытке сохранить файл конфигурации.

>**Решение:**
>
>- Попробуйте повторно создать и сохранить файл конфигурации.
>- Попробуйте использовать другие способы для сохранения конфигурации, например сохраните конфигурацию в виде текстового ключа.
>- Обратитесь в поддержку [телеграм чат], или на почту support@amnezia.org

## Erorr 501: OpenVpnConfigMissing

Ошибка: Отсутствует конфигурация OpenVPN. \
Возникает при использовании десктопной версии приложения.

>**Решение:**
>- Попробуйте очистить кеш, перезагрузить устройство и заново подключиться

## Erorr 502: OpenVpnManagementServerError

Ошибка возникает при установке VPN-соединения на десктопной версии приложения.

>**Решение:**
>
>- Попробуйте очистить кеш, перезагрузить устройство и заново подключиться

## Erorr 503: ConfigMissing 

Ошибка обозначает, что конфигурация отсутствует, возникает при установке VPN-соединения на десктопной версии приложения.
>**Решение:**
>
>- Попробуйте очистить кеш, перезагрузить устройство и заново подключиться


## Erorr 600: OpenVpnExecutableMissing

Ошибка возникает при отсутствии исполняемого файла OpenVPN. Можно встретить при подключении к VPN.

Означает, что: \
Установка файлов не удалась, \
Файлы повреждены при установке, \
Или файлы не найдены

>**Решение:**
>
>- Перезагрузите устройство и переустановите приложение.

## Erorr 601: ShadowSocksExecutableMissing

Ошибка: Отсутствует исполняемый файл ShadowSocks

Означает, что: \
Установка файлов не удалась, \
Файлы повреждены при установке, \
Или файлы не найдены

>**Решение:**
>
>- Перезагрузите устройство и переустановите приложение.

## Erorr 602: CloakExecutableMissing

Ошибка: Отсутствует исполняемый файл Cloak

Означает, что: \
установка файлов не удалась, \
файлы повреждены при установке, \
или файлы не найдены

>**Решение:**
>
>- Перезагрузите устройство и переустановите приложение.

## Erorr 603: AmneziaServiceConnectionFailed

Ошибка: Не удалось подключиться к сервису Amnezia.\
Означает, что AmneziaVPN-service (это сервис , который устанавливает Amnezia на ваше устройство) поврежден или удален.

>**Решение:**
>
>- Перезагрузить устройство,
>- Переустановить приложение,
>- На macОS посмотрите есть ли разрешение на использование сервиса AmneziaVPN-service

## Erorr 604: ExecutableMissing

Ошибка означает, что отсутствует исполняемый файл.
Означает, что: \
установка файлов не удалась, \
файлы повреждены при установке, \
или файлы не найдены

>**Решение:**
>
>- Перезагрузить устройство, переустановить приложение.


## Erorr 700: OpenVpnAdaptersInUseError

Ошибка использования OpenVPN адаптеров.
Может возникать из-за того, что какое-то другое ПО использует OpenVPN-адаптер.
Возникает при подключении к OpenVPN.


>**Решение:**
>
>- Проверьте не включено ли другое VPN-приложение, подключенное к OpenVPN. Отключите его.
>- Попробуйте перезагрузить устройство,
>- Перезапустите приложение.

## Erorr 701: OpenVpnUnknownError

Неизвестная ошибка OpenVPN, возникает при подключении к OpenVPN

>**Решение:**
>
>- Проверьте не включено ли другое VPN-приложение, подключенное к OpenVPN. Отключите его.
>- Попробуйте перезагрузить устройство,
>- Перезапустите приложение

## Erorr 702: OpenVpnTapAdapterError

Ошибка возникает при неполадках с OpenVpn Tap адаптером.

>**Решение:**
>- Удалите OpenVPN TAP адаптер, и заново подключитесь к VPN с протоколом OpenVPN.
>- Если это ен помогло, установите OpenVPN 2.6.

## Erorr 703: AddressPoolError

Ошибка в пуле адресов обозначает, что закончились адреса для конфигов WireGuard и AmneziaWG.  Amnezia поддерживает до 254 конфигураций для WireGuard.
конфигураций

>**Решение:**
>- Если вы уверены, что адресов используется меньше, чем 254, попробуйте удалить WireGuard или AmneziaWG и заново подключиться.
>- Если нет, используйте другой сервер, или протокол.


## Erorr 800:OpenSslFailed,

Ошибка может возникнуть при подключении к VPN.

>**Решение:**
>
>- Попробуйте перезагрузить компьютер, повторить подключение
>- Если ошибка повторяется - обратитесь в нашу поддержку в [телеграм чате], или напишите нам на почту support@amnezia.org

## Erorr 801: OpenVpnExecutableCrashed,

Ошибка: Завершение работы исполняемого файла OpenVpn.
Может возникнуть при подключении к VPN.

>**Решение:**
>
>- Попробуйте перезагрузить компьютер, повторить подключение
>- Если ошибка повторяется - обратитесь в нашу поддержку в [телеграм чате], или напишите нам на почту support@amnezia.org

## Erorr 802: ShadowSocksExecutableCrashed,

Ошибка: Завершение работы исполняемого файла ShadowSocks 
Может возникнуть при подключении к VPN.

>**Решение:**
>
>- Попробуйте перезагрузить компьютер, повторить подключение
>- Если ошибка повторяется - обратитесь в нашу поддержку в [телеграм чате], или напишите нам на почту support@amnezia.org

## Erorr 803: CloakExecutableCrashed


Сбой исполняемого файла Cloak.
Ошибка может возникнуть при подключении к VPN.

>**Решение:**
>
>- Попробуйте перезагрузить компьютер, повторить подключение
>- Если ошибка повторяется - обратитесь в нашу поддержку в [телеграм чате], или напишите нам на почту support@amnezia.org


[телеграм чате]: https://t.me/amnezia_vpn


## Erorr 900: ImportInvalidConfigError

Ошибка обозначает, что загружен файл конфигурации в неверном формате.


>**Решение:**
>
>- Проверьте правильность формата. \
  Для Amnezia формат должен быть - ***.vpn***
>- Попробуйте создать или запросить новый конфиг.
>- Если ошибка повторяется - обратитесь в нашу поддержку в [телеграм чате], или напишите нам на почту support@amnezia.org


[телеграм чате]: https://t.me/amnezia_vpn

>Если вышеперечисленные советы не помогли, обратитесь в нашу поддержку в [телеграм чате], или напишите нам на почту support@amnezia.org

[телеграм чате]: https://t.me/amnezia_vpn

[телеграм чате]: https://t.me/amnezia_vpn
[телеграм чат]: https://t.me/amnezia_vpn
[чат в телеграм]: https://t.me/amnezia_vpn
[Как запустить свой VPN c помощью Amnezia]: ../instructions/0_starter-guide
[Windows 11]: https://support.microsoft.com/ru-ru/windows/%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-tcp-ip-bd0a07af-15f5-cd6a-363f-ca2b6f391ace#WindowsVersion=Windows_11
[Windows 10]: https://support.microsoft.com/ru-ru/windows/%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-tcp-ip-bd0a07af-15f5-cd6a-363f-ca2b6f391ace#WindowsVersion=Windows_10
[Windows 8.1 или 7]: https://support.microsoft.com/ru-ru/windows/%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-tcp-ip-bd0a07af-15f5-cd6a-363f-ca2b6f391ace#WindowsVersion=Windows_8.1_or_Windows_7
[ссылка на релизы]: https://github.com/amnezia-vpn/amnezia-client/releases