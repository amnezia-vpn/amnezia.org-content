# General error codes

## UnknownError

Неизвестная ошибка - может возникнуть при разных обстоятельствах.  

Решение:

- Перезагрузите приложение.  
- Попробуйте очистить кеш приложения. 
- Попробуйте удалить сервер или протокол и подключиться снова. 
- Если ошибка повторяется пришлите логи на почту suppport@amnezia.org или в [чат в телеграм]


## InternalError

Внутренняя ошибка - может возникать из-за не корректной работы QT-библиотек,или при других обстоятельствах)

Решение:

- Перезагрузите приложение.
- Попробуйте очистить кеш приложения.
- Попробуйте удалить сервер или протокол и подключиться снова.
- Если ошибка повторяется пришлите логи на почту suppport@amnezia.org или в [чат в телеграм]

## NotImplementedError

Ошибка - Нет реализации такой функции. Ошибка может возникнуть, например при попытке в старой версии приложения восстановить 
настройки из бэкапа, сделанные в более новой версии приложения. Протоколы настроенные в новых версиях Amnezia, 
могут быть не совместимы со старой версией и наоборот. 

Решение:

- Попробуйте изменить настройки, 
- Проверьте, поддерживается ли протокол вашей версией приложения. 


## ServerCheckFailed

Возникает при попытке добавить новый сервер.

Решение:

- Проверьте что сервер соответствует требованиям Amnezia


    Операционная система - Linux, подходит Ubuntu 22.04 или Debian 11
    Виртуализация - KVM
    SSD - минимум 7 Гб
    Оперативная память (RAM) - рекомендуется 2 Гб, но можно и меньше
    Предустановленное ПО и панель управления не требуются

## ServerPortAlreadyAllocatedError

Эта ошибка означает, что порт, который нужен протоколу в Amnezia, уже используется другим ПО.

Решение:


1.  У некоторых протоколов можно поменять порт:
- OpenVPN по умолчанию использует 443 порт для TCP-протокола, и 1194 порт для UDP , можно поменять на любые другие порты.
- WireGuard по-умолчанию использует 51820 порт, можно поменять на любой UDP порт.
- IKEv2 по умолчанию использует порты 500 и 4500, их нельзя менять.
- OpenVPN over Cloak по-умолчанию использует 443 порт, его можно менять, но мы не рекомендуем этого делать, так как  443 порт - это порт веб-трафика, любой другой порт может выдать маскировку.
- AmneziaWG использует случайный порт для каждого пользователя, а так же меняет его при каждой новой попытке установить протокол, поэтому если выбраный порт занят, просто вернитесь на шаг  назад и потом снова кликните “Установить”, или поменяйте на любой другой UDP порт вручную .


2. Проверьте, что у вас не установлено другое ПО, использующее порт протокола.

   Для **Windows** можно посмотреть какие порты уже используются другими программами
    - Нажмите **Win+R**
    - введите в строку **cmd** нажмите **Enter**
    - внести команду
   ~~~ 
   netstat!!! -a 
   ~~~
   нажмите **Enter**
   В консоли отобразится перечень используемых портов с указанием какое приложение или служба ими распоряжается,
   можно сохранить этот список в файле **netstat -a** > **имя.txt**, по умолчанию он сохранится в (C:\\User\Username*\) ,
   где  Username - имя пользователя.

   Для **Linux** нам понадобится утилита netstat, если у вас ее нет, ее можно установить следующими командами:

    - RedHat и CentOS -
   ~~~
   sudo yum install net-tools
   ~~~
    - Fedora 22+ -
   ~~~
   dnf install net-tools
   ~~~

    - Debian/Ubuntu -
   ~~~ 
   sudo apt-get install net-tools
   ~~~


В консоли наберите
   ~~~
   $ netstat -pnltu
   ~~~
По аналогии с Windows в консоли отобразится перечень используемых портов с указанием - какое приложение или служба ими распаряжается.


3. Проверьте, что на вашем сервере открыты необходимые для протоколов порты.  Это можно посмотреть в меню панели управления виртуальным сервером в браузере, если таких данных нет, отправьте запрос в службу поддержки хостинга.


4. Подключитесь к вашему серверу по SSH, или откройте консоль сервера через веб-сайт и пропишите там **“sudo apt install lsof psmisc”** , после чего повторите попытку установить.


5. Если это не помогло, попробуйте настроить сервер с более ранней версии Amnezia (2.1.2 )




## ServerContainerMissingError

Ошибка значит, что контейнер с сервером отсутствует. Возникает если приложение не подключается к серверу и при смене настроек.
Может возникать при удалении контейнера на сервере вручную без использования приложения.

***Варианты решения***

Заново добавьте сервер.

## ServerDockerFailedError

Ошибка: Сбой в работе Docker-контейнера сервера.
Появляется при установке контейнера с VPN или изменении настроек протокола.
Может возникнуть при удалении контейнера с сервером, или при удалении протокола без использования приложения.

Варианты решения:

Заново добавьте сервер.

## ServerUserNotInSudo

Обозначает, что пользователь сервера не имеет Sudo-прав.
Возникает при установке контейнера с VPN или при добавлении файла с конфигурацией.

***Варианты решения***

1. Добавьте пользователя в группу Sudo.
- Через visudo, если пакет sudo уже установлен,
- Добавьте пользователя и установите пакет sudo, если пакет sudo не установлен.
2. Попробуйте настроить сервер из под root, вместо обычного пользователя.
3. Попробуйте убрать пароль на выполнение sudo команд.
4. Обратитесь с службу поддержки хостинга.


## ServerPacketManagerError

Ошибка диспетчера пакетов сервера возникает при установке контейнера с сервером.
Обозначает, что менеджер пакетов занят, возникает после 30 попыток установить пакеты.

***Варианты решения***

Причиной возникновения может служить обновление пакетов.
- Подождите, пока обновления пакетов закончится, или пропишите в командной строке
~~~
- sudo apt-get install <любая_утилита> 
~~~
чтобы переключить менеджер пакетов на другую задачу.
- Попробуйте перезагрузить сервер

Также возможно повреждение менеджера пакетов. Чтобы решить эту проблему, обратитесь в службу поддержки хостинга.


## SshRequestDeniedError

Возникает при некорректном введении данных при попытке добавить новый сервер.

***Решение:*** Проверьте правильность введенных данных.


## SshInterruptedError

Возникает при добавлении нового сервера в приложение, при подключении к добавленному серверу, или
изменении настроек сервера.

***Решение:*** Скорее всего проблема в стабильности интернет-соединения.  
Проверьте стабильность интернета, повторите попытку.

## SshInternalError

Возникает при добавлении нового сервера в приложение, при подключении к добавленному серверу, или
изменении настроек сервера.

***Решение:*** Попробуйте перезапустить приложение и повторите попытку. Обратитесь к нам в поддержку или в telegram-chat.

## SshPrivateKeyError

Возникает при добавлении нового сервера в приложение, при подключении к добавленному серверу, или
изменении настроек сервера.

***Решение:***
Проверьте правильность введенного ключа.

## SshPrivateKeyFormatError

Возникает при добавлении нового сервера в приложение, при подключении к добавленному серверу, или
изменении настроек сервера.

***Решение:***
Проверьте правильность формата введенного ключа, формат должен быть, либо **PEM**, либо **ED25519**.

## SshTimeoutError
Возникает при добавлении нового сервера в приложение, при подключении к добавленному серверу, или
изменении настроек сервера.

К этой ошибке могут приводить разные проблемы, например, неправильный порт, IP, или SSH запрещен фаерволом.

***Решение:***

Проверьте правильность ввода данных, порт, IP.
Убедитесь что порт устройства открыт. \
Убедитесь что сервер, к которому вы подключаетесь существует, у него активный статус в личном кабинете хостинга. \
SSH не запущен на сервере.




## SshSftpEofError
## SshSftpNoSuchFileError
## SshSftpPermissionDeniedError
## SshSftpFailureError
## SshSftpBadMessageError
## SshSftpNoConnectionError
## SshSftpConnectionLostError
## SshSftpOpUnsupportedError
## SshSftpOpUnsupportedError
## SshSftpInvalidHandleError
## SshSftpNoSuchPathError
## SshSftpWriteProtectError
## SshSftpNoMediaError

Решение:
Попробуйте:

- Перезапустите Amnezia.
- Попробуйте повторить подключение
- Переустановите сервер для VPN
- Обратитесь в поддержку

***SshSftpFileAlreadyExistsError \
SftpError: File does not exist***

Ошибка возникает, когда пользователь производит установку не из под Root,
либо некорректно настроил юзера Sudo.

Решение:
- Попробовать произвести установку под Root
- Если п.1 не подходит, то добавьте пользователя (от имени которого, вы хотите установить Amnezia) в группу sudo и разрешите выполнять команды sudo без пароля.

Local errors

## FailedToSaveConfigData

Ошибка возникает при неудачной попытке сохранить файл конфигурации.

Решение:

- Попробуйте повторно создать и сохранить файл конфигурации.
- Попробуйте использовать другие способы для сохранения конфигурации, например сохраните конфигурацию в виде текстового ключа.
- Обратитесь в поддержку [телеграм чат] или на почту support@amnezia.org

## OpenVpnConfigMissing

Ошибка: Отсутствует конфигурация OpenVPN. Возникает при использовании десктопной версии приложения.
Решение:

- Попробуйте очистить кеш, перезагрузить компьютер и заново подключиться

## OpenVpnManagementServerError

Ошибка возникает при установке VPN-соединения на десктопной версии приложения.

Решение:

- Попробуйте очистить кеш, перезагрузить компьютер и заново подключиться

## ConfigMissing

Ошибка обозначает, что конфигурация отсутствует, возникает при установке VPN-соединения на десктопной версии приложения.

- Попробуйте очистить кеш, перезагрузить компьютер и заново подключиться


## OpenVpnExecutableMissing

Ошибка возникает при отсутствии исполняемого файла OpenVPN. Можно встретить при подключении к VPN.

Означает, что: \
Установка файлов не удалась, \
Файлы повреждены при установке, \
Или файлы не найдены

Решение:

- Перезагрузите компьютер и переустановите приложение.

## ShadowSocksExecutableMissing

Ошибка: Отсутствует исполняемый файл ShadowSocks

Означает, что: \
Установка файлов не удалась, \
Файлы повреждены при установке, \
Или файлы не найдены

Решение:

- Перезагрузите компьютер и переустановите приложение.

## CloakExecutableMissing

Ошибка: Отсутствует исполняемый файл Cloak

Означает, что: \
Установка файлов не удалась, \
Файлы повреждены при установке, \
Или файлы не найдены

Решение:

- Перезагрузите компьютер и переустановите приложение.

## AmneziaServiceConnectionFailed

Ошибка: Не удалось подключиться к сервису Amnezia
Означает, что AmneziaVPN-service (сервис , который устанавливает Amnezia на ваше устройство) поврежден или удален.

Решение:

- Перезагрузить компьютер,
- Переустановить приложение,
- На Мак ОС посмотрите есть ли разрешение на использование сервиса AmneziaVPN-service

## ExecutableMissing

Ошибка означает, что отсутствует исполняемый файл.
Означает, что: \
Установка файлов не удалась, \
Файлы повреждены при установке, \
Или файлы не найдены

Решение:

- Перезагрузить компьютер, переустановить приложение.


## OpenVpnAdaptersInUseError

Ошибка использования OpenVpn адаптеров.
Может возникать из-за того, что какое-то другое ПО использует OpenVPN-адаптер.
Возникает при подключении к OpenVPN.


Решение:

- Проверьте не включено ли другое VPN-приложение, подключенное к OpenVPN. Отключите его.
- Попробуйте перезагрузить компьютер,
- Перезапустите приложение.

## OpenVpnUnknownError

Неизвестная ошибка OpenVPN, возникает при подключении к OpenVPN

Решение:

- Проверьте не включено ли другое VPN-приложение, подключенное к OpenVPN. Отключите его.
- Попробуйте перезагрузить компьютер,
- Перезапустите приложение

## OpenVpnTapAdapterError

Ошибка возникает при неполадках с OpenVpn Tap адаптером.

Решение:
- Удалите OpenVpn Tap адаптер, и заново подключитесь к VPN с протоколом OpenVPN.
- Если это ен помогло, установите OpenVPN 2.6.

## AddressPoolError

Ошибка в пуле адресов обозначает, что закончились адреса для конфигов WG и AWG. В Amnezia нет
ограничений по количеству розданных файлов конфигурации, но сам WireGuard поддерживает до 254
конфигураций

Решение:
- Если вы уверены, что адресов используется меньше, чем 254, попробуйте удалить WireGuard или AmneziaWG и заново подключиться.
- Если нет, используйте другой сервер, или протокол.


## OpenSslFailed 
не удалось открыть SSL

## OpenVpnExecutableCrashed
Завершение работы исполняемого файла OpenVpn

## ShadowSocksExecutableCrashed
Завершение работы исполняемого файла ShadowSocks

## CloakExecutableCrashed
Сбой исполняемого файла Cloak

Все эти ошибки могут возникать непосредственном при подключении к VPN.

Решение:

- Попробуйте перезагрузить компьютер, повторить подключение
- Если ошибка повторяется - обратитесь в нашу поддержку в [телеграм чате], или напишите нам на почту support@amnezia.org


[телеграм чате]: https://t.me/amnezia_vpn


## ImportInvalidConfigError

Ошибка обозначает, что загружен файл конфигурации в неверном формате.


Решение:

- Проверьте правильность формата. \
  Для Amnezia формат должен быть - ***.vpn***
- Попробуйте создать или запросить новый конфиг.
- Если ошибка повторяется - обратитесь в нашу поддержку в [телеграм чате], или напишите нам на почту support@amnezia.org


[телеграм чате]: https://t.me/amnezia_vpn

>Если вышеперечисленные советы не помогли, обратитесь в нашу поддержку в [телеграм чате], или напишите нам на почту support@amnezia.org

[телеграм чате]: https://t.me/amnezia_vpn

[телеграм чате]: https://t.me/amnezia_vpn
[телеграм чат]: https://t.me/amnezia_vpn
[Как запустить свой VPN c помощью Amnezia]: ../instructions/0_starter-guide
[Windows 11]: https://support.microsoft.com/ru-ru/windows/%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-tcp-ip-bd0a07af-15f5-cd6a-363f-ca2b6f391ace#WindowsVersion=Windows_11
[Windows 10]: https://support.microsoft.com/ru-ru/windows/%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-tcp-ip-bd0a07af-15f5-cd6a-363f-ca2b6f391ace#WindowsVersion=Windows_10
[Windows 8.1 или 7]: https://support.microsoft.com/ru-ru/windows/%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-tcp-ip-bd0a07af-15f5-cd6a-363f-ca2b6f391ace#WindowsVersion=Windows_8.1_or_Windows_7
[ссылка на релизы]: https://github.com/amnezia-vpn/amnezia-client/releases